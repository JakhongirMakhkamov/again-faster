{{ 'collections-list.css' | asset_url | stylesheet_tag }}

<div class="container">
    {% paginate collection.products %}
        <div class="collection__header">
            <h1 class="collection__name">{{ collection.title | upcase }}</h1>
            <div class="collection__links">
                {% for collection_item in collections %}
                        {% unless collection_item.title == 'Best Sellers' %}
                            <a class="collection__link {% if collection.title == collection_item.title %}active{% endif %}" href="{{ collection_item.url }}">
                                {{ collection_item.title | upcase }}
                            </a>
                            <span>/</span>
                        {% endunless %}
                {% endfor %}
            </div>
        </div>
        <div class="collection__items">
            {% for product in collection.products %}
                <div class="collection__item">
                    <a href="{{ product.url | within: collection }}">
                        <img class="product-img" src="{{ product.featured_image.src | image_url }}" alt="{{ product.featured_image.alt | escape }}">
                    </a>
                    <a href="{{ product.url | within: collection }}" class="product-title">{{ product.title | upcase }}</a>
                    <p class="product-cost">
                        {% if product.price_varies %}
                            {{ product.price | money }} - {{ product.price_max | money }}
                        {% else %}
                            {{ product.price | money }}
                        {% endif %}
                    </p>
                    <div class="product-tags">
                        {% for tag in product.tags %}
                            <span class="product-tag tag--{{ tag | handleize}}">
                                {{ tag }}
                            </span>
                        {% endfor %}
                    </div>
                    {% unless product.available %}<br><strong>sold out</strong>{% endunless %}
                </div>
            {% else %}
                <p>no matches</p>
            {% endfor %}
        </div>
        {% if paginate.pages > 1 %}
            {{ paginate | default_pagination }}
        {% endif %}
    {% endpaginate %}
</div>

{% schema %}
{
   "name": "Collections List",
   "tag": "section",
   "class": "collections-list"
}
{% endschema %}